<body>
<div class="rowCustom">
  <div class="col-md-3">
    <div class="brd bg-white">
      <h2 class="filterBy">Filter by:</h2>
    </div>
    <div class="brd bg-white">
      <div class="filter">
        <div class="filter-name">
          <p class="filter-p">Star rating</p>
          <label class="containerLabel">2 stars
            <input type="radio" name="star" value="2" (change)="checkbox(price)">
            <span class="checkMark"></span>
          </label>
          <label class="containerLabel">3 stars
            <input type="radio" name="star" value="3" (change)="checkbox(price)">
            <span class="checkMark"></span>
          </label>
          <label class="containerLabel">4 stars
            <input type="radio" name="star" value="4" (change)="checkbox(price)">
            <span class="checkMark"></span>
          </label>
          <label class="containerLabel">5 stars
            <input type="radio" name="star" value="5" (change)="checkbox(price)">
            <span class="checkMark"></span>
          </label>
          <label class="containerLabel">Unrated
            <input type="radio" name="star" checked value="0" (change)="checkbox(price)">
            <span class="checkMark"></span>
          </label>
        </div>
      </div>
    </div>
    <div class="brd bg-white">
      <div class="filter">
        <div class="filter-name">
          <p>Min value: <input class="slideInput" type="number" step="{{options.step}}" [(ngModel)]="minValue"
                               (input)="checkbox(price)">
          </p>
          <p>Max value: <input class="slideInput" type="number" step="{{options.step}}" [(ngModel)]="maxValue"
                               (input)="checkbox(price)">
          </p>
          <ng5-slider #price (click)="checkbox(price)" [(value)]="minValue" [(highValue)]="maxValue"
                      [options]="options"></ng5-slider>
        </div>
      </div>
    </div>
    <div class="brd bg-white">
      <div class="filter">
        <div class="filter-name">
          <p class="filter-p">Rooms</p>
          <label class="containerLabel">1 room
            <input type="radio" name="rooms" value="1" (change)="checkbox(price)">
            <span class="checkMark"></span>
          </label>
          <label class="containerLabel">2 rooms
            <input type="radio" name="rooms" value="2" (change)="checkbox(price)">
            <span class="checkMark"></span>
          </label>
          <label class="containerLabel">3 rooms
            <input type="radio" name="rooms" value="3" (change)="checkbox(price)">
            <span class="checkMark"></span>
          </label>
          <label class="containerLabel">4 rooms
            <input type="radio" name="rooms" value="4" (change)="checkbox(price)">
            <span class="checkMark"></span>
          </label>
          <label class="containerLabel">5+ rooms
            <input type="radio" name="rooms" value="5" (change)="checkbox(price)">
            <span class="checkMark"></span>
          </label>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-9">

    <div class="mt-3 pagination-control">
      <pagination-controls *ngIf="flats && flats.length>5" (pageChange)="p =$event"
                           class="text-center"></pagination-controls>
    </div>
    <div *ngFor="let flat of flats | paginate: {itemsPerPage:5, currentPage: p}" class="flatsView rowCustom bg-white">
      <div class="col-md-4">
        <div class="float-left w-100">
          <img src="http://localhost:8080/images/flatsPicture/{{flat.listPhotoFlats[0]}}" width="100%" height="200"
               class="br-r" [routerLink]="'flatsViewCurrent/' + flat.id">
        </div>
      </div>
      <div class="col-md-8">
        <div class="rowCustom">
          <div class="col-md-8">
            <p>Apartments information:</p>
            <p>{{flat.nameFlat}}</p>
            <p>Rooms: {{flat.rooms}}</p>
            <p>Address: {{flat.address}}</p>
          </div>
          <div class="col-md-4">
            <p class="m-0">Price per night:</p>
            <p class="prc-font"><b>{{flat.price}} ₴</b></p>

            <p class="m-0">Rating flat:</p>
            <p *ngIf="flat.averageRating == 0" class="prc-font">
              <b>No rating</b>
            </p>
            <p *ngIf="flat.averageRating >0" class="prc-font">
              <b>{{flat.averageRating | number:'1.0-2'}} ★</b>
            </p>
          </div>
        </div>
      </div>
      <div class="rowCustom pd-l-20">
        <form class="rating">
          <label>
            <input type="radio" name="stars" value="1" (click)="rating( flat.id,1)"/>
            <span class="icon">★</span>
          </label>
          <label>
            <input type="radio" name="stars" value="2" (click)="rating(flat.id, 2)"/>
            <span class="icon">★</span>
            <span class="icon">★</span>
          </label>
          <label>
            <input type="radio" name="stars" value="3" (click)="rating(flat.id, 3)"/>
            <span class="icon">★</span>
            <span class="icon">★</span>
            <span class="icon">★</span>
          </label>
          <label>
            <input type="radio" name="stars" value="4" (click)="rating(flat.id, 4)"/>
            <span class="icon">★</span>
            <span class="icon">★</span>
            <span class="icon">★</span>
            <span class="icon">★</span>
          </label>
          <label>
            <input type="radio" name="stars" value="5" (click)="rating(flat.id, 5)"/>
            <span class="icon">★</span>
            <span class="icon">★</span>
            <span class="icon">★</span>
            <span class="icon">★</span>
            <span class="icon">★</span>
          </label>
        </form>
      </div>

    </div>
    <div class="pagination-control">
      <pagination-controls *ngIf="flats && flats.length>5" (pageChange)="p =$event"
                           class="text-center"></pagination-controls>
    </div>
  </div>
</div>
</body>
